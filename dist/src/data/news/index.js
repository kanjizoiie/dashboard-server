"use strict";var _express=require("express"),_express2=_interopRequireDefault(_express),_axios=require("axios"),_axios2=_interopRequireDefault(_axios),_moment=require("moment"),_moment2=_interopRequireDefault(_moment),_xml2js=require("xml2js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var router=_express2.default.Router();function convertDateString(e){return(0,_moment2.default)(e).format("ddd, HH:mm ")}router.get("/",function(e,t){var r=[],n="";_axios2.default.get("https://www.svt.se/nyheter/lokalt/vasternorrland/rss.xml").then(function(e){(0,_xml2js.parseString)(e.data,function(e,t){t.rss.channel[0].item.forEach(function(e){r.push({title:e.title[0],pubDate:convertDateString(e.pubDate[0]),description:e.description[0],link:e.link[0]})}),n=t.rss.channel[0].title})}).then(function(e){return t.json({title:n,news:r.slice(0,10)})})}),module.exports=router;