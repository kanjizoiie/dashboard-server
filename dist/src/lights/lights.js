"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}(),_axios=require("axios"),_axios2=_interopRequireDefault(_axios);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Lights=function(){function e(t){_classCallCheck(this,e),this.username=t,this.bridgeFound=!0}return _createClass(e,[{key:"findBridge",value:function(){var e=this,i=this;_axios2.default.get("https://www.meethue.com/api/nupnp").then(function(t){try{i.bridgeIP=t.data[0].internalipaddress,console.log(e.bridgeIP)}catch(t){throw i.bridgeFound=!1,"Could not find bridge"}}).catch(function(t){console.log(t.code)})}},{key:"blinkLight",value:function(t,e){var i=this;if(this.bridgeFound){var n=!1;return _axios2.default.put(this.bridgeIP+"/api/"+this.username+"/lights/"+t+"/state",{on:!0,bri:254}).catch(function(t){console.log(t.code),n=!1}).then(setTimeout(function(){_axios2.default.put(i.bridgeIP+"/api/"+i.username+"/lights/"+t+"/state",{on:!1}).catch(function(t){console.log(t.code),n=!1}).then(function(){n=!0})},e)),n}throw"Bridge not found"}},{key:"setLight",value:function(t,e){if(ret=!1,!this.bridgeFound)throw"Bridge not found";_axios2.default.put("http://"+this.bridgeIP+"/api/"+this.username+"/lights/"+t+"/state",e).then(function(t){console.log(t),ret=!0}).catch(function(t){console.log(t)})}}]),e}();Lights.RSGREEN={xy:[.3999,.5214],sat:255,bri:224},Lights.GREEN={hue:25500,sat:255,bri:254},Lights.RED={hue:0,sat:255,bri:254},Lights.BLUE={hue:46920,sat:255,bri:254},Lights.YELLOW={hue:12750,sat:255,bri:254},exports.default=Lights;